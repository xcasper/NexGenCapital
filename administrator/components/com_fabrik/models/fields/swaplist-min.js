var SwapList=new Class({initialize:function(f,e,d,c,b,a){this.from=document.id(f);this.to=document.id(e);if(typeOf(document.id(d))!=="null"){document.id(d).addEvent("click",function(g){g.stop();document.id("jform__createGroup0").checked=true;this.addSelectedToList(this.from,this.to);this.delSelectedFromList(this.from)}.bind(this));document.id(c).addEvent("click",function(g){g.stop();this.addSelectedToList(this.to,this.from);this.delSelectedFromList(this.to)}.bind(this));document.id(b).addEvent("click",function(g){g.stop();this.moveInList(-1)}.bind(this));document.id(a).addEvent("click",function(g){g.stop();this.moveInList(+1)}.bind(this));document.id("adminForm").onsubmit=function(g){this.to.getElements("option").each(function(h){h.selected=true});return true}.bind(this)}},addSelectedToList:function(f,e){var a;var b=f.length;var c=e.length;var d="x";for(a=c-1;a>-1;a--){d+=","+e.options[a].value+","}for(a=0;a<b;a++){if(f.options[a].selected&&d.indexOf(","+f.options[a].value+",")===-1){opt=new Option(f.options[a].text,f.options[a].value);e.options[e.length]=opt}}},delSelectedFromList:function(c){var b=c.length;for(var a=b-1;a>-1;a--){if(c.options[a].selected){c.options[a]=null}}},moveInList:function(f){var e=this.to;var c=this.to.selectedIndex;var d=e.options.length-1;if(c===-1){return false}if(f===+1&&c===d){return false}if(f===-1&&c===0){return false}var b=[];var a=[];for(i=d;i>=0;i--){b[i]=e.options[i].text;a[i]=e.options[i].value}for(i=d;i>=0;i--){if(c===i){e.options[i+f]=new Option(b[i],a[i],0,1);e.options[i]=new Option(b[i+f],a[i+f]);i--}else{e.options[i]=new Option(b[i],a[i])}}e.focus();return true}});