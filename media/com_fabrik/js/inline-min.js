var inline=new Class({Implements:Options,options:{},initialize:function(a,b){this.setOptions(b);document.addEvent("dblclick:relay("+a+")",function(f,d){var c;d.hide();d.store("origValue",d.get("text"));if(!d.retrieve("inline")){c=new Element("input");c.addEvent("keydown",function(g){this.checkKey(g,d)}.bind(this));c.inject(d,"after").focus();c.hide();d.store("inline",c)}else{c=d.retrieve("inline")}c.set("value",d.get("text")).toggle().focus();c.select()}.bind(this))},checkKey:function(b,a){if(b.key==="enter"||b.key==="esc"||b.key==="tab"){a.retrieve("inline").hide();a.show()}if(b.key==="enter"||b.key==="tab"){a.set("text",b.target.get("value"));Fabrik.fireEvent("fabrik.inline.save",[a,b])}}});