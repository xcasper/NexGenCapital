var FbFormSubmit=new Class({elements:$H({}),running:false,results:{},addElement:function(b,a){this.elements[b]=a},enabled:function(){return this.running},submit:function(a){this.running=true;this.elements.each(function(c,b){this.results[b]=null;c.onsubmit(function(d){this.results[b]=d}.bind(this))}.bind(this));this.checker=this.check.periodical(500,this,[a])},check:function(a){var b=Object.values(this.results);var c=b.every(function(d){return d===true});if(c){clearInterval(this.checker);this.running=false;a()}if(b.contains(false)){this.running=false;clearInterval(this.checker)}}});